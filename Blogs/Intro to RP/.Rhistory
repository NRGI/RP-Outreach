projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = 0, hjust = -2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = 0, hjust = -2.5, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = 0, hjust = -2.5, hjust = -1, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = 0, hjust = -2.5, hjust = 1, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = 0, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = -10, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 0, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 10, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 5, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType))%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 1, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectType == "Brazil")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 1, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Brazil")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 1, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
annotate(geom = "text", label = "Type of project", x = 1, y = -1000, hjust = -2.5, hjust = 2, angle = 90) +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = totalPayment)) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
annotate(geom = text, y = 600, x = 0, label = "test") +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
annotate(geom = "text", y = 600, x = 0, label = "test") +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
annotate(geom = "text", y = 600, label = "test") +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
annotate(geom = "text", y = 600, x = 1, label = "test") +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
annotate(geom = "text", y = 600, x = "Mining", label = "test") +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
group_by(projectCountry, projectName) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ungroup() %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
suppressMessages(
entitySecondary <- gs_title("Final Secondary - Govt. Entities") %>%
gs_read(ws = "Data", verbose = F)
)
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(totalPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T))
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T))
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Ghana") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Nigeria") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "India") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Indonesia") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Australia") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Russia") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Russian Federation") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Malaysia") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Canada") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Germany") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Colombia") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Norway") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Poland") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Mexico") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel) & entityCountry == "Iraq") %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col()
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(x = "Payments (in millions of USD)")
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(x = "Payments (in millions of USD)") +
theme(
axis.title = element_text(),
axis.title.y = element_blank()
)
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(y = "Payments (in millions of USD)") +
theme(
axis.title = element_text(),
axis.title.x = element_blank()
)
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(y = "Payments (in millions of USD)") +
theme(
axis.title = element_text(),
axis.title.y = element_blank()
)
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(y = "Payments (in millions of USD)") +
theme(
axis.title = element_text(size = 9),
axis.title.y = element_blank()
)
projectData %>%
left_join(., projectSecondary, by = c("projectCountry", "projectName")) %>%
filter(!is.na(projectType) & projectCountry == "Mexico")%>%
group_by(projectType) %>%
summarise(totalPayment = sum(projectPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(projectType, -totalPayment), y = round(totalPayment/1e6, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(y = "Payments (in millions of USD)") +
theme(
axis.title = element_text(size = 11),
axis.title.y = element_blank()
)
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, totalPayment), y = totalPayment)) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, -totalPayment), y = totalPayment)) +
geom_col() +
coord_flip() +
theme_fivethirtyeight()
left_join(entityData, entitySecondary, by = c("entityCountry", "entityName")) %>%
filter(!is.na(entityLevel)) %>%
group_by(entityLevel) %>%
summarise(totalPayment = sum(entityPayment, na.rm = T)) %>%
ggplot(., aes(x = reorder(entityLevel, -totalPayment), y = round(totalPayment/1e9, 1))) +
geom_col() +
coord_flip() +
theme_fivethirtyeight() +
labs(y = "Payments (in billions of USD)") +
theme(
axis.title = element_text(size = 11),
axis.title.y = element_blank()
)
knitr::include_graphics("images/shellTable.png")
rmarkdown::render(input = "intro_rp.Rmd", output_dir = "../../../nrgi_reports")
